<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.0.6" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.0.6">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.0.6">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.0.6">


  <link rel="mask-icon" href="/images/logo.svg?v=6.0.6" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '6.0.6',
    sidebar: {"position":"right","display":"always","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="All-trade Jack, loves full-stack">
<meta property="og:type" content="website">
<meta property="og:title" content="CMK">
<meta property="og:url" content="http://yoursite.com/page/9/index.html">
<meta property="og:site_name" content="CMK">
<meta property="og:description" content="All-trade Jack, loves full-stack">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="CMK">
<meta name="twitter:description" content="All-trade Jack, loves full-stack">






  <link rel="canonical" href="http://yoursite.com/page/9/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>CMK</title>
  




<script async src="https://www.googletagmanager.com/gtag/js?id=UA-116541729-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-116541729-1');
</script>






  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="">

  
  
    
  

  <div class="container sidebar-position-right 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> 

<div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">CMK</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">Let's create something!</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        
          
  <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />Home</a>
</li>

      
        
        
          
  <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-th"></i> <br />Categories</a>
</li>

      
        
        
          
  <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />Tags</a>
</li>

      
        
        
          
  <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />Archives</a>
</li>

      
        
        
          
  <li class="menu-item menu-item-about">
    <a href="/about/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-user"></i> <br />About</a>
</li>

      

      
    </ul>
  

  
    

    
    
      
      
    
      
      
    
      
      
    
      
      
    
      
      
    
    

  


  

  
</nav>


  



 </div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-categories" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/23/React-Learning/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mingkai Cao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/mingkai.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CMK">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/23/React-Learning/" itemprop="url">React Learning</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-12-23T12:23:00-08:00">2017-12-23</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Full-stack/" itemprop="url" rel="index"><span itemprop="name">Full stack</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="0-组件数据流-Model-gt-View"><a href="#0-组件数据流-Model-gt-View" class="headerlink" title="0. 组件数据流: Model -&gt; View"></a>0. 组件数据流: Model -&gt; View</h2><ul>
<li><p>父组件M -&gt; 子组件V</p>
<ul>
<li>父组件prop 之间传给 子组件 prop</li>
</ul>
</li>
<li><p>子组件M -&gt; 父组件V</p>
<ul>
<li>回调函数<ul>
<li>父组件向子组件传递回调函数</li>
<li>JS中，function是一等公民，因此传入的值会作为自身field保存起来；与C／Java不同。</li>
</ul>
</li>
</ul>
</li>
<li>sibling 组件间传值 M-&gt;V<ul>
<li>必须依靠二者共同父组件来传递<ul>
<li>但等组件之间的关系越来越复杂时候，这种依靠父组件作为中间人传值方式 would be a mess！</li>
<li>Redux comes into picture</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="1-双向绑定-Model-View"><a href="#1-双向绑定-Model-View" class="headerlink" title="1. 双向绑定: Model  View"></a>1. 双向绑定: Model <-> View</-></h2><ul>
<li>通过绑定<code>&lt;input&gt;</code>的 <code>onChange()</code> 监视 View的变换</li>
<li>在 onChange Handler中更新组件的值，完成 View =&gt; Model 的数据流。</li>
</ul>
<h2 id="2-React-生命周期"><a href="#2-React-生命周期" class="headerlink" title="2. React 生命周期"></a>2. React 生命周期</h2><ul>
<li>Mount<ul>
<li>constructor()</li>
<li>componentWillMount()</li>
<li>render()</li>
<li>componentDidMount()</li>
</ul>
</li>
<li>Update<ul>
<li>componentWillReceiveProps(): 将接收新的props</li>
<li>shouldComponentUpdate(): 是否应该被更新？</li>
<li>componentWillUpdate(): 组件即将更新</li>
<li>render(): 组件被渲染</li>
<li>componentDidUpdate(): 组件完成更新</li>
</ul>
</li>
<li>Unmount<ul>
<li>componentWillUnmount(): 组件被卸载前做一些数据清楚哦给你做</li>
</ul>
</li>
</ul>
<h2 id="3-Depedency"><a href="#3-Depedency" class="headerlink" title="3. Depedency"></a>3. Depedency</h2><ul>
<li>In <code>&lt;head&gt;</code>, we needs three <code>&lt;script&gt;</code> in order to use React, that is, “react.js”,”react-dom.js”,”browser.min.js”</li>
<li><p>In <code>&lt;body&gt;</code> where we manipulate JSX, we use a special <code>&lt;script type=&quot;text/babel&quot; &gt;</code>, whose typel is “text/babel”</p>
</li>
<li><p>In order to make faster rendering at client-side, use “ $ babel src –out-dir build “, parsing all JSX file at directory ‘src’ into javascript files at directory ‘build’, where browser could recognize.</p>
</li>
</ul>
<h2 id="4-ReactDOM-render"><a href="#4-ReactDOM-render" class="headerlink" title="4. ReactDOM.render();"></a>4. ReactDOM.render();</h2><ul>
<li>what? :It is a basic method used everywhere</li>
<li>converting JSX into HTML;</li>
<li>inserting HTML at specified DOM point</li>
</ul>
<h2 id="5-JSX"><a href="#5-JSX" class="headerlink" title="5. JSX"></a>5. JSX</h2><ul>
<li><p>what?<br>JavaScript XML </p>
</li>
<li><p>“logic” + “view”</p>
<ul>
<li>not spring (no quotes “” )</li>
<li>not HTML ( more of XML )</li>
<li>support “tag + expression”</li>
</ul>
</li>
<li><p>How to parse?</p>
<ul>
<li>for tags (begin with “&lt;”), parse as HTML</li>
<li>for code block(begin with “{“), parse as JavaScript</li>
</ul>
</li>
</ul>
<h2 id="6-JSX-can-contain-tag-array"><a href="#6-JSX-can-contain-tag-array" class="headerlink" title="6. JSX can contain tag array"></a>6. JSX can contain tag array</h2><p>JSX can unfold all tag in a array</p>
<h2 id="7-Component"><a href="#7-Component" class="headerlink" title="7. Component"></a>7. Component</h2><ul>
<li>what? A component is function,</li>
<li>accepting “input”(props), </li>
<li><p>returnnig “view”(HTML tag)</p>
</li>
<li><p>How to create a component?</p>
<ol>
<li><p>functional component</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 因为不是class概念，只是方程式，因此直接使用props，不使用this前缀</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Welcome</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, &#123;props.name&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> element = <span class="xml"><span class="tag">&lt;<span class="name">Welcome</span> <span class="attr">name</span>=<span class="string">"Sara"</span> /&gt;</span>;</span></span><br><span class="line"><span class="xml">ReactDOM.render(</span></span><br><span class="line"><span class="xml">    element,</span></span><br><span class="line"><span class="xml">    document.getElementById('root')</span></span><br><span class="line"><span class="xml">);</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>class component</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 注意：必须加前缀：this；这样才能取到绑定在Welcome上的props</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Welcome</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, &#123;this.props.name&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> element = <span class="xml"><span class="tag">&lt;<span class="name">Welcome</span> <span class="attr">name</span>=<span class="string">"Sara"</span> /&gt;</span>;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
<ul>
<li><p>Notice</p>
<ul>
<li>If a group of tags don’t need its own props or states, just declare it as <em>const</em>, rather than component. [ see demo14 &amp; demo14-2]</li>
<li>Component should have no more than one top tag</li>
</ul>
</li>
</ul>
<h2 id="8-this-props-children"><a href="#8-this-props-children" class="headerlink" title="8. this.props.children"></a>8. this.props.children</h2><ul>
<li><p>what?</p>
<p> All the properties of a Component belongs to its correspoinding HTML element, except “props.children”, which represent components’ children</p>
</li>
<li><p>possible types for children</p>
<ul>
<li>undefined, if no child at all;</li>
<li>object, if only have one child;</li>
<li>array, if have multiple children;</li>
</ul>
</li>
<li><p>How to traverse properly without error?</p>
<p>  use React.Children to ensure validity</p>
</li>
</ul>
<h2 id="9-Composing-Components"><a href="#9-Composing-Components" class="headerlink" title="9. Composing Components"></a>9. Composing Components</h2><ul>
<li><p>What?</p>
<ul>
<li>A button, a form, a dialog, a screen: in React apps, all those are commonly expressed as components.</li>
<li>On the other hand, we typically have an ‘App’ component at the top level</li>
<li><em>Best Practice:</em> start from bottom-up, work along to the top level</li>
</ul>
</li>
<li><p>How?</p>
<p>  Reuse components just like “li” in “ul”</p>
</li>
</ul>
<h2 id="10-Extracting-Components"><a href="#10-Extracting-Components" class="headerlink" title="10. Extracting Components"></a>10. Extracting Components</h2><ul>
<li>What?<br>  Split components into smaller components, to achieve more flexibility and reusability.</li>
<li>How?<ul>
<li>Split by functionality</li>
<li>One component can contain multiple sub-components</li>
</ul>
</li>
</ul>
<h2 id="11-State-like-‘props’"><a href="#11-State-like-‘props’" class="headerlink" title="11. State (like ‘props’)"></a>11. State (like ‘props’)</h2><ul>
<li>Purpose? <ul>
<li>A non-static component, has its own “state”</li>
</ul>
</li>
<li>What?<ul>
<li>Actually it’s like pros, but “state” is private to component class, compared to “props”</li>
</ul>
</li>
<li>How?<ul>
<li>Use “state” in render(), when state changed, React will can render again.</li>
<li>Must use a <strong>Class Component</strong>, rather than <strong>function component</strong>.</li>
</ul>
</li>
<li>Diff<ul>
<li>this.props(<em>public:passed-in</em>) 表示那些一旦定义，就不再改变的特性</li>
<li>this.state(<em>private:built-in</em>)是会随着用户互动而产生变化的特性。</li>
<li>both are belongs to <strong>this</strong>.</li>
</ul>
</li>
<li>Constructor of component class<ul>
<li>First, always call <strong>super(props):</strong></li>
<li>Second, set <strong>this.state=…;</strong></li>
</ul>
</li>
</ul>
<h2 id="12-Adding-Lifecycle-Methods-to-a-Class"><a href="#12-Adding-Lifecycle-Methods-to-a-Class" class="headerlink" title="12. Adding Lifecycle Methods to a Class"></a>12. Adding Lifecycle Methods to a Class</h2><ul>
<li>purpose: In order to save CPU and memory</li>
<li><p>what involved?</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">componentDidMount()</span><br><span class="line">componentWillUnmount()</span><br><span class="line">setState()</span><br></pre></td></tr></table></figure>
</li>
<li><p>About setState()?</p>
<p>  Do Not Modify State Directly=&gt;instead using <strong>setState()</strong><br>  State Updates May Be Asynchronous=&gt; instead,again using setState() with its another form: use a function accepting ‘provState’ as it passed-in parameter to set the state</p>
</li>
<li><p>How?: work flow</p>
<ol>
<li>When <clock> is passed to ReactDOM.render(), React calls the constructor of the Clock component. Since Clock needs to display the current time, it initializes this.state with an object including the current time. We will later update this state.</clock></li>
<li>React then calls the Clock component’s render() method. This is how React learns what should be displayed on the screen. React then updates the DOM to match the Clock’s render output.</li>
<li>When the Clock output is inserted in the DOM, React calls the componentDidMount() lifecycle hook. Inside it, the Clock component asks the browser to set up a timer to call the component’s tick() method once a second.</li>
<li>Every second the browser calls the tick() method. Inside it, the Clock component schedules a UI update by calling setState() with an object containing the current time. Thanks to the setState() call, React knows the state has changed, and calls the render() method again to learn what should be on the screen. This time, this.state.date in the render() method will be different, and so the render output will include the updated time. React updates the DOM accordingly.</li>
<li>If the Clock component is ever removed from the DOM, React calls the componentWillUnmount() lifecycle hook so the timer is stopped.</li>
</ol>
</li>
<li><p>state: parent &amp; children ?</p>
<ol start="0">
<li>state is isolated among components </li>
<li>Parent and Child shall not know if the other is stateful of stateless.</li>
<li>But there is a way for parent to pass down its own state to its children, by using <strong>‘props’</strong></li>
</ol>
</li>
</ul>
<h2 id="13-Events"><a href="#13-Events" class="headerlink" title="13. Events"></a>13. Events</h2><ul>
<li><p>What?<br>Substitute addEventListener(): to add listeners to a DOM element after it is created.</p>
</li>
<li><p>Diff ( virtual DOM vs. real DOM)</p>
<ul>
<li>React events are named using camelCase, rather than lowercase.</li>
<li>With JSX you pass a function as the event handler, rather than a string. 统一采用expression表达方法，写在’{}’中<ul>
<li>button onClick={activateLasers}</li>
<li>button onclick=”activateLasers()”</li>
</ul>
</li>
<li><p>Cannot return false to prevent default behavior in React. You must call preventDefault explicitly</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ActionLink</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">handleClick</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    e.preventDefault();</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'The link was clicked.'</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;a href=<span class="string">"#"</span> onClick=&#123;handleClick&#125;&gt;</span><br><span class="line">      Click me</span><br><span class="line">    &lt;<span class="regexp">/a&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>be carefull with ‘e’ &amp; ‘this’</p>
</li>
</ul>
</li>
</ul>
<h2 id="14-Conditional-Rendering"><a href="#14-Conditional-Rendering" class="headerlink" title="14. Conditional Rendering"></a>14. Conditional Rendering</h2><ul>
<li><p>what?</p>
<p>  display optionally between several components, based on a <em>state variable</em></p>
</li>
<li><p>How?</p>
<p> Have two <em>button components</em> as child_component of a parent component, toggling state of parent component, then resulting in another <em>display component</em> shows up or hide away. [see demo14]</p>
</li>
</ul>
<h2 id="15-List-and-keys"><a href="#15-List-and-keys" class="headerlink" title="15. List and keys"></a>15. List and keys</h2><ul>
<li><p>What?</p>
<ul>
<li>Array can produce a list of ‘li’, by using <em>map()</em> function.</li>
<li>‘Keys’ help React identify which items have changed, are added, or are removed. Keys should be given to the elements inside the array, in order to give the elements a stable identity</li>
</ul>
</li>
<li><p>Where to put ‘keys’?</p>
<p>  A good rule of thumb is that elements inside the map() call need keys.</p>
</li>
</ul>
<h2 id="16-Forms-gt-controlled-component"><a href="#16-Forms-gt-controlled-component" class="headerlink" title="16. Forms -&gt; controlled component"></a>16. Forms -&gt; controlled component</h2><ul>
<li><p>What ?</p>
<ul>
<li>Let React <strong>“state”</strong> be the “single source of truth”。<br>用React的state来保存form的用户输入</li>
<li><p>With a controlled component, every state mutation will have an associated handler function. This makes it straightforward to modify or validate user input. </p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">handleChange(event) &#123;</span><br><span class="line">	<span class="keyword">this</span>.setState(&#123;<span class="attr">value</span>: event.target.value.toUpperCase()&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Which ?</p>
<ol>
<li><p>input element <---> state &amp; state_handler</---></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=&quot;text&quot; value=&#123;this.state.value&#125; onChange=&#123;this.handleChange&#125; /&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>textarea <---> state &amp; state_handler</---></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;textarea value=&#123;this.state.value&#125; onChange=&#123;this.handleChange&#125; /&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>select <---> state &amp; state_handler[similar to above ones: has its own “value” props]</---></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;select value=&#123;this.state.value&#125; onChange=&#123;this.handleChange&#125;&gt;</span><br><span class="line">// notice: &apos;value&apos; in &lt;select&gt; is not &apos;value&apos; in &lt;option&gt;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>Handling Multiple Inputs</p>
<p> add a name attribute to each element and let the handler function choose what to do based on the value of event.target.name.</p>
</li>
</ul>
<h2 id="17-Lifting-State-Up-share-state-among-components-in-their-parent-component"><a href="#17-Lifting-State-Up-share-state-among-components-in-their-parent-component" class="headerlink" title="17. Lifting State Up ( share state among components in their parent component )"></a>17. Lifting State Up ( <strong>share state</strong> among components in their parent component )</h2><p>Sharing state is accomplished by moving it up to the closest common ancestor of the components that need it. This is called <strong>“lifting state up”</strong>. </p>
<ul>
<li><p>How</p>
<ol>
<li>parent component maintains several <strong>state variables</strong></li>
<li>child componnets receive parent’s <strong>state &amp;&amp; functions</strong> as their own <strong>props</strong> ( function can be passed to children component )</li>
<li>when children get updated, it will call parent’s function, and modify parent’s state, thus leading to re-rendering all its children components</li>
</ol>
</li>
<li><p>Work flow<br>Let’s recap what happens when you edit an input:</p>
<ol>
<li><p>React calls the function specified as onChange on the DOM <input>. In our case, this is the handleChange method in TemperatureInput component</p>
</li>
<li><p>The handleChange method in the TemperatureInput component calls this.props.onTemperatureChange() with the new desired value. Its props, including onTemperatureChange, were provided by its parent component, the Calculator</p>
</li>
<li><p>When it previously rendered, the Calculator has specified that onTemperatureChange of the Celsius TemperatureInput is the Calculator’s handleCelsiusChange method, and onTemperatureChange of the Fahrenheit TemperatureInput is the Calculator’s handleFahrenheitChange method. So either of these two Calculator methods gets called depending on which input we edited</p>
</li>
<li><p>Inside these methods, the Calculator component asks React to re-render itself by calling this.setState() with the new input value and the current scale of the input we just edited.</p>
</li>
<li><p>React calls the Calculator component’s render method to learn what the UI should look like. The values of both inputs are recomputed based on the current temperature and the active scale. The temperature conversion is performed here</p>
</li>
<li><p>React calls the render methods of the individual TemperatureInput components with their new props specified by the Calculator. It learns what their UI should look like</p>
</li>
<li><p>React DOM updates the DOM to match the desired input values. The input we just edited receives its current value, and the other input is updated to the temperature after conversion.</p>
</li>
</ol>
</li>
</ul>
<h2 id="18-Composition-vs-Inheritance"><a href="#18-Composition-vs-Inheritance" class="headerlink" title="18. Composition vs Inheritance"></a>18. Composition vs Inheritance</h2><ul>
<li><p>What?</p>
<p>  React prefer composition model, instead of inheritance, to reuse code between components.</p>
</li>
<li><p>How?</p>
<p>  Pass <strong>components</strong> to props just like <strong>data</strong>.</p>
</li>
<li><p>Inheritance via “Composition”?</p>
<p>  For example, we might say that a WelcomeDialog is a special case of Dialog.<br>  This can be achieved by composition, where a more “specific” component renders a more “generic” one and configures it with props:</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Dialog</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;FancyBorder color=<span class="string">"blue"</span>&gt;</span><br><span class="line">      &lt;h1 className=<span class="string">"Dialog-title"</span>&gt;</span><br><span class="line">        &#123;props.title&#125;</span><br><span class="line">      &lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">      &lt;p className="Dialog-message"&gt;</span></span><br><span class="line"><span class="regexp">        &#123;props.message&#125;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>p&gt;</span><br><span class="line">    &lt;<span class="regexp">/FancyBorder&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">function WelcomeDialog() &#123;</span></span><br><span class="line"><span class="regexp">  return (</span></span><br><span class="line"><span class="regexp">    &lt;Dialog</span></span><br><span class="line"><span class="regexp">      title="Welcome"</span></span><br><span class="line"><span class="regexp">      message="Thank you for visiting our spacecraft!" /</span>&gt;</span><br><span class="line"></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="19-Summary"><a href="#19-Summary" class="headerlink" title="19. Summary"></a>19. Summary</h2><h4 id="Steps-to-build-a-React-App"><a href="#Steps-to-build-a-React-App" class="headerlink" title="Steps to build a React App"></a>Steps to build a React App</h4><ul>
<li><p>Step 1: Break The UI Into A Component Hierarchy</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- FilterableProductTable</span><br><span class="line">	- SearchBar</span><br><span class="line">	- ProductTable</span><br><span class="line">		+ ProductCategoryRow</span><br><span class="line">		+ ProductRow</span><br></pre></td></tr></table></figure>
</li>
<li><p>Step 2: Build A Static Version in React (more typing, less thinking)</p>
<ul>
<li>build components that reuse other components and pass data using props.</li>
<li>don’t use state at all to build this static version</li>
</ul>
</li>
<li><p>Step 3: Identify The Minimal (but complete) Representation Of UI State</p>
<ul>
<li>To make your UI interactive, you need to be able to trigger changes to your underlying data model. React makes this easy with <strong>state</strong>.</li>
<li>Determine if a data is state by asking three questions:<ul>
<li>Is it passed in from a parent via props? If so, it probably isn’t state.</li>
<li>Does it remain unchanged over time? If so, it probably isn’t state.</li>
<li>Can you compute it based on any other state or props in your component? If so, it isn’t state.</li>
</ul>
</li>
</ul>
</li>
<li><p>Step 4: Identify Where Your State Should Live(more thinking, less typing)</p>
<ul>
<li>Identify every component that renders something based on that state. </li>
<li>Find a common owner component (a single component above all the components that need the state in the hierarchy).</li>
<li>Either the common owner or another component higher up in the hierarchy should own the state.</li>
<li>If you can’t find a component where it makes sense to own the state, create a new component simply for holding the state and add it somewhere in the hierarchy above the common owner component.As for the example:<ul>
<li>ProductTable needs to filter the product list based on state and + SearchBar needs to display the search text and checked state.</li>
<li>The common owner component is FilterableProductTable.</li>
<li>It conceptually makes sense for the filter text and checked value to live in FilterableProductTable</li>
</ul>
</li>
</ul>
</li>
<li><p>Step 5: Add Inverse Data Flow</p>
<ul>
<li>What?<ul>
<li>逻辑流：从上到下（ child components depends on <strong>state</strong> of parent component ）</li>
<li>数据流：从下到上（ <strong>state</strong> of parent component, get value from child component ）</li>
</ul>
</li>
<li>Example<ul>
<li>support data flowing the other way: the form components deep in the hierarchy need to update the state in FilterableProductTable.</li>
</ul>
</li>
</ul>
</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/8/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><span class="page-number current">9</span>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/mingkai.jpg"
                alt="Mingkai Cao" />
            
              <p class="site-author-name" itemprop="name">Mingkai Cao</p>
              <p class="site-description motion-element" itemprop="description">All-trade Jack, loves full-stack</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">81</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">5</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">133</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  <a href="https://github.com/caomingkai" target="_blank" title="GitHub" rel="external nofollow"><i class="fa fa-fw fa-github"></i>GitHub</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:mingkaic@usc.edu" target="_blank" title="E-Mail" rel="external nofollow"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  
                </span>
              
            </div>
          

          
          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate"> 
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mingkai Cao</span>

  

  
</div>


  



  <div class="powered-by">Powered by <a class="theme-link" target="_blank" rel="external nofollow" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" rel="external nofollow" href="https://github.com/theme-next/hexo-theme-next">NexT.Mist</a> v6.0.6</div>




        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv" title="Total Visitors">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="site-pv" title="Total Views">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.0.6"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.0.6"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.0.6"></script>



  



	





  





  










  





  

  

  

  

  
  

  

  

  

  


<style>
    #comments .vempty{
        display: none;
    }
</style>

</body>
</html>
